openapi: 3.0.0
info:
  title: 'Сервис получения информации о рецептах на отсроченном обслуживании'
  version: '1'
servers: 
  - url: 'http://172.22.3.135:8080/atoll'
paths:
  /deferred-prescriptions/v1/getInPrivilegePrograms/:
    summary: 'Получение рецептов на отсроченном обслуживании в разрезе льготных направлений'
    get:
      security:
        - apiKeyAuth: []
      responses:
        '200':
          description: 'Успешное выполнение запроса'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/prescriptionsInPrivilegePrograms200'
        '400':
          description: 'Ошибка при выполнении запроса'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response400'
        '403':
          description: 'Отказ в доступе'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response403'
  /deferred-prescriptions/v1/getInTerritories/:
    summary: 'Получение рецептов на отсроченном обслуживании в разрезе территорий'
    get:
      security:
        - apiKeyAuth: []
      responses:
        '200':
          description: 'Успешное выполнение запроса'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/prescriptionsInTerritories200'
        '400':
          description: 'Ошибка при выполнении запроса'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response400'
        '403':
          description: 'Отказ в доступе'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response403'
                
components:
  securitySchemes:
    'apiKeyAuth':
      type: apiKey
      name: X-ACCESS-TOKEN
      in: header  
      description: '6d923e06-f0b9-4ca7-94dc-e645b026a275'
  schemas:
    prescriptionsInPrivilegeProgram:
      properties:
        'privilegeProgramId':
          description: 'Идентификатор льготного направления'
          type: integer
        'privilegeProgramName':
          description: 'Наименование льготного направления'
          type: string
        'prescriptionCount':
          description: 'Количество рецептов на отсроченном обслуживании'
          type: integer
        'overduePrescriptionCount':
          description: 'Количество просроченных рецептов'
          type: integer
    prescriptionsInTerritory:
      properties:
        'territoryId':
          description: 'Идентификатор территории'
          type: integer
        'territoryName':
          description: 'Наименование территории'
          type: string
        'prescriptionCount':
          description: 'Количество рецептов на отсроченном обслуживании'
          type: integer
        'overduePrescriptionCount':
          description: 'Количество просроченных рецептов'
          type: integer
    prescriptionsInPrivilegePrograms200:
      type: array
      items:
        $ref: '#/components/schemas/prescriptionsInPrivilegeProgram'
    prescriptionsInTerritories200:
      type: array
      items:
        $ref: '#/components/schemas/prescriptionsInTerritory'
    response400:
      type: object
      properties:
        'exception':
          description: 'Класс исключения'
          type: string
        'message':
          description: 'Сообщение об ошибке'
          type: string
    response403:
      type: object
      properties:
        'message':
          description: 'Сообщение'
          type: string